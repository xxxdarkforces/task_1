[***> Настройка .gitignore***](./ignore.md)

[***< Удалённые репозитории***](./remote_repository.md)

[***<< Перейти к содержанию***](./readme.md#содержание)

# Ветвление

Во время разработки новой функциональности считается хорошей практикой работать с копией оригинального проекта, которую называют веткой. Ветви имеют свою собственную историю и изолированные друг от друга изменения до тех пор, пока вы не решаете слить изменения вместе. Это происходит по набору причин:
* Уже рабочая, стабильная версия кода сохраняется.
* Различные новые функции могут разрабатываться параллельно разными программистами.
* Разработчики могут работать с собственными ветками без риска, что кодовая база поменяется из-за чужих изменений.
* В случае сомнений, различные реализации одной и той же идеи могут быть разработаны в разных ветках и затем сравниваться.

---

## Создание новой ветки

Основная ветка в каждом репозитории называется master. Чтобы создать еще одну ветку, используем команду `branch <name>`
```
git branch amazing_new_feature
```
Это создаст новую ветку, пока что точную копию ветки ***master***.

---

## Переключение между ветками

Сейчас, если мы запустим `branch`, мы увидим две доступные опции:
```
git branch
amazing_new_feature
* master
```
***master*** — это активная ветка, она помечена звездочкой. Но мы хотим работать с нашей **“новой потрясающей функцией”**, так что нам понадобится переключиться на другую ветку. Для этого воспользуемся командой `checkout`, она принимает один параметр — имя ветки, на которую необходимо переключиться.
```
git checkout amazing_new_feature
```
В *Git* ветка — это отдельная линия разработки. `git checkout` позволяет нам переключаться как между удаленными, так и меду локальными ветками. Это один из способов получить доступ к работе коллеги или соавтора, обеспечивающий более высокую продуктивность совместной работы. Однако тут надо помнить, что пока вы не закомитили изменения, вы не сможете переключиться на другую ветку. В такой ситуации нужно либо сделать коммит, либо отложить его, при помощи команды `git stash`, добавляющей текущие незакоммиченные изменения в стек изменений и сбрасывающей рабочую копию до **HEAD'а** репозитория.

---

## Слияние веток

Наша **“Новая функция”** будет еще одним текстовым файлом под названием **feature.txt**. Мы создадим его, добавим и закоммитим:
```
git add feature.txt
git commit -m "New feature complete.”
```
Изменения завершены, теперь мы можем переключиться обратно на ветку ***master***.
```
git checkout master
```
Теперь, если мы откроем наш проект в файловом менеджере, мы не увидим файла **feature.txt**, потому что мы переключились обратно на ветку ***master***, в которой такого файла не существует. Чтобы он появился, нужно воспользоваться merge для объединения веток (применения изменений из ветки ***amazing_new_feature*** к основной версии проекта).
```
git merge amazing_new_feature
```
Теперь ветка ***master*** актуальна. Ветка ***amazing_new_feature*** больше не нужна, и ее можно удалить.
```
$ git branch -d awesome_new_feature
```
Если хотите создать копию удаленного репозитория - используйте `git clone`. Однако если вам нужна только определенная его ветка, а не все хранилище - после `git clone` выполните следующую команду в соответствующем репозитории:
```
git checkout -b <имя ветки> origin/<имя ветки>
```
После этого, новая ветка создается на машине автоматически.

---

## Как удалять ветки в Git

Бывают ситуации, когда после слива каких-то изменений из рабочей ветки в исходную версию проекта, ее, по правилам хорошего тона, необходимо удалить, чтобы она более не мешалась в вашем коде. Но как это сделать? Для локально расположенных веток существует команда:

```
git branch -d local_branch_name
```

где флажок `-d` являющийся опцией команды `git branch` - это сокращенная версия ключевого слова `--delete`, предназначенного для удаления ветки, а `local_branch_name` – название ненужной нам ветки.
Однако тут есть нюанс: удалить текущую ветку, в которую вы, в данный момент просматриваете - нельзя. Если же вы все-таки попытаетесь это сделать, система отругает вас и выдаст ошибку с таким содержанием:
```
Error: Cannot delete branch local_branch_name checked out at название_директории
```
Так что при удалении ветвей, обязательно переключитесь на другой `branch`.

---

[***> Настройка .gitignore***](./ignore.md)

[***< Удалённые репозитории***](./remote_repository.md)

[***<< Перейти к содержанию***](./readme.md#содержание)
